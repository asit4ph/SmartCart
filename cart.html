<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Your Cart - SmartCart</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <div id="container">
    <header>
      <div id="logo">SmartCart</div>
      <nav id="navbar">
        <ul>
          <!-- Mobile Button -->
           <li id="mobile-cross"><a href="javascript:void(0)" onclick="closeMenu()"><i class="fa-solid fa-xmark"></i></a></li>
          <li><a href="index.html">Home</a></li>
          <li><a href="category.html">Categories</a></li>
          <li><a href="cart.html">My Cart <sup><span  id= "cartCount">0</span></sup></a></li>
          <li id="loginLink"><a href="login.html">Login</a></li>
          <li><a href="#">Help & Support</a></li> 
        </ul>
      </nav>
      <!-- Mobile Menu Button -->
       <div id="mobile-bar" onclick="openMenu()"><i class="fa-solid fa-bars"></i></div>
    </header>
    </div>
 <!-- Help & Support Modal -->
    <div id="helpModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeHelpModal()">&times;</span>
        <h2>How can we help you?</h2>
        <ul>
          <li><a href="#faq">FAQs</a></li>
          <li><a href="#contact">Contact Us</a></li>
          <li><a href="#returns">Return Policy</a></li>
          <li><a href="#track">Track Order</a></li>
        </ul>
      </div>
    </div>
   
  <div class="cart-container">
    <h2>Your Shopping Cart</h2>
    <div id="cartItems"></div>
    <div class="total-section">
      Total: ₹<span id="totalPrice">0</span>
    </div>
  </div>
<footer class="site-footer">
  <div class="footer-content">
    <p>&copy; 2025 SmartCart. All rights reserved.</p>
    <p><a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
  </div>
</footer>

  <script>
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartItemsContainer = document.getElementById('cartItems');
    const totalPriceEl = document.getElementById('totalPrice');

    function renderCart() {
      cartItemsContainer.innerHTML = '';
      let total = 0;

      cart.forEach((item, index) => {
        const itemTotal = item.price * (item.quantity || 1);
        total += itemTotal;

        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}" />
          <div class="item-info">
            <h3>${item.name}</h3>
            <p><strong>Brand:</strong> ${item.details?.brand || 'N/A'}</p>
            <p><strong>Size:</strong> ${item.selectedSize || 'M'}</p>
            <p><strong>MRP:</strong> ₹${item.actualPrice} <strong>Discount:</strong> ${item.discount}%</p>
            <p><strong>Price You Pay:</strong> ₹${item.price}</p>
            <p class="quantity-box">
              <strong>Qty:</strong>
              <input type="number" min="1" value="${item.quantity || 1}" onchange="updateQuantity(${index}, this.value)" />
              <button class="remove-btn" onclick="removeFromCart(${index})">Remove</button>
            </p>
          </div>
        `;
        cartItemsContainer.appendChild(div);
      });

      totalPriceEl.innerText = total.toFixed(2);
      document.getElementById('cartCount').innerText = cart.length;
    }

    function removeFromCart(index) {
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    function updateQuantity(index, qty) {
      cart[index].quantity = parseInt(qty) || 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    renderCart();
  </script>
  <script src="script.js"></script>
</body>
</html>
